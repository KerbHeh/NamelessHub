-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘       99 NIGHTS: ETERNAL SURVIVAL â€” HUB v4.0            â•‘
-- â•‘       UI: Fluent Library by dawid-scripts               â•‘
-- â•‘       Melhorado: lÃ³gica completa, sem comentÃ¡rios vazios â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Fluent          = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager     = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager= loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘         SERVICES & CORE VARS         â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Players          = game:GetService("Players")
local RunService       = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage= game:GetService("ReplicatedStorage")
local TweenService     = game:GetService("TweenService")
local Workspace        = game:GetService("Workspace")
local Lighting         = game:GetService("Lighting")
local TeleportService  = game:GetService("TeleportService")

local lp       = Players.LocalPlayer
local Camera   = Workspace.CurrentCamera
local Options  = Fluent.Options

-- ReferÃªncias de personagem (atualizadas no respawn)
local char, root, hum
local function RefreshChar()
    char = lp.Character or lp.CharacterAdded:Wait()
    root = char:WaitForChild("HumanoidRootPart", 5)
    hum  = char:WaitForChild("Humanoid", 5)
end
RefreshChar()
lp.CharacterAdded:Connect(function()
    task.wait(1)
    RefreshChar()
end)

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘           HELPER UTILITIES           â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function Notify(title, content, duration)
    Fluent:Notify({ Title = title, Content = content, Duration = duration or 4 })
end

local function SafeCall(fn)
    local ok, err = pcall(fn)
    if not ok then warn("[99NightsHub] " .. tostring(err)) end
end

-- Busca remote em mÃºltiplos caminhos comuns do jogo
local function FindRemote(name)
    local paths = {
        ReplicatedStorage,
        ReplicatedStorage:FindFirstChild("Events"),
        ReplicatedStorage:FindFirstChild("Remotes"),
        ReplicatedStorage:FindFirstChild("RemoteEvents"),
    }
    for _, folder in ipairs(paths) do
        if folder then
            local r = folder:FindFirstChild(name, true)
            if r then return r end
        end
    end
    return nil
end

local function FireRemote(name, ...)
    local r = FindRemote(name)
    if r then
        if r:IsA("RemoteEvent") then SafeCall(function() r:FireServer(...) end) end
        if r:IsA("RemoteFunction") then SafeCall(function() r:InvokeServer(...) end) end
        return true
    end
    return false
end

-- DistÃ¢ncia atÃ© um objeto
local function DistTo(obj)
    if not root then return math.huge end
    local pivot = obj:IsA("BasePart") and obj.Position
               or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
    if not pivot then return math.huge end
    return (root.Position - pivot).Magnitude
end

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘             ESP SYSTEM               â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local ESPHighlights = {}

local function AddHighlight(obj, fillColor, outlineColor)
    if ESPHighlights[obj] then return end
    local h = Instance.new("Highlight")
    h.FillColor         = fillColor or Color3.fromRGB(255, 60, 60)
    h.OutlineColor      = outlineColor or Color3.fromRGB(255, 255, 255)
    h.FillTransparency  = 0.5
    h.OutlineTransparency = 0
    h.Adornee = obj
    h.Parent  = obj
    ESPHighlights[obj] = h
end

local function RemoveHighlight(obj)
    if ESPHighlights[obj] then
        ESPHighlights[obj]:Destroy()
        ESPHighlights[obj] = nil
    end
end

local function ClearAllESP()
    for obj, h in pairs(ESPHighlights) do
        if h and h.Parent then h:Destroy() end
    end
    ESPHighlights = {}
end

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘             FLY SYSTEM               â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local FlyBV, FlyBG
local FlyActive = false

local function EnableFly(speed)
    if not root then return end
    FlyActive = true
    if FlyBV then FlyBV:Destroy() end
    if FlyBG then FlyBG:Destroy() end

    FlyBG = Instance.new("BodyGyro", root)
    FlyBG.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    FlyBG.CFrame    = root.CFrame

    FlyBV = Instance.new("BodyVelocity", root)
    FlyBV.MaxForce  = Vector3.new(9e9, 9e9, 9e9)
    FlyBV.Velocity  = Vector3.zero

    if hum then hum.PlatformStand = true end
    Notify("Movement", "âœˆ Fly ativado! WASD + E (subir) / Q (descer)")
end

local function DisableFly()
    FlyActive = false
    if FlyBV then FlyBV:Destroy() FlyBV = nil end
    if FlyBG then FlyBG:Destroy() FlyBG = nil end
    if hum   then hum.PlatformStand = false      end
end

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘           WINDOW / TABS              â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Window = Fluent:CreateWindow({
    Title       = "99 NIGHTS: ETERNAL SURVIVAL",
    SubTitle    = "v4.0 â€” Hub Completo",
    TabWidth    = 170,
    Size        = UDim2.fromOffset(640, 520),
    Acrylic     = true,
    Theme       = "Dark",
    MinimizeKey = Enum.KeyCode.RightControl
})

local Tabs = {
    Main     = Window:AddTab({ Title = "Auto Survival", Icon = "shield-check" }),
    Farm     = Window:AddTab({ Title = "Auto Farm",     Icon = "leaf"         }),
    Combat   = Window:AddTab({ Title = "Combat & ESP",  Icon = "swords"       }),
    Movement = Window:AddTab({ Title = "Movement",      Icon = "zap"          }),
    World    = Window:AddTab({ Title = "Teleports",     Icon = "map-pin"      }),
    Misc     = Window:AddTab({ Title = "Exploits",      Icon = "box"          }),
    Settings = Window:AddTab({ Title = "Settings",      Icon = "settings"     }),
}

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘   ğŸ›¡ï¸  ABA 1 â€” AUTO SURVIVAL (AFK)   â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tabs.Main:AddSection("Status Lockers")

Tabs.Main:AddToggle("InfStamina", {
    Title       = "Stamina Infinita",
    Description = "MantÃ©m stamina no mÃ¡ximo constantemente",
    Default     = false,
})

Tabs.Main:AddToggle("NoHunger", {
    Title       = "Fome Zero (Auto-Eat)",
    Description = "Come automaticamente para manter a fome cheia",
    Default     = false,
})

Tabs.Main:AddToggle("AutoHeal", {
    Title       = "Auto-Heal (Instant)",
    Description = "Se cura instantaneamente ao tomar dano",
    Default     = false,
})

Tabs.Main:AddToggle("GodMode", {
    Title       = "God Mode (HP Infinito)",
    Description = "HP travado no mÃ¡ximo â€” nunca morre",
    Default     = false,
})

Tabs.Main:AddSection("Night Automation")

Tabs.Main:AddToggle("AutoNight", {
    Title       = "AFK Survive â€” Safe Spot Loop",
    Description = "Teleporta para o cÃ©u durante a noite e volta ao amanhecer",
    Default     = false,
})

Tabs.Main:AddToggle("AutoDaySkip", {
    Title       = "Auto Day Skip",
    Description = "Tenta pular para o prÃ³ximo dia via remote do jogo",
    Default     = false,
})

Tabs.Main:AddToggle("AutoCampfire", {
    Title       = "Auto Campfire (Aquecimento)",
    Description = "Acende fogueiras prÃ³ximas automaticamente",
    Default     = false,
})

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘   ğŸŒ²  ABA 2 â€” AUTO FARM              â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tabs.Farm:AddSection("Gathering Aura")

Tabs.Farm:AddToggle("AutoWood", {
    Title       = "Auto Farm Madeira (Wood)",
    Description = "Coleta Ã¡rvores dentro do raio automaticamente",
    Default     = false,
})

Tabs.Farm:AddToggle("AutoFood", {
    Title       = "Auto Collect Food",
    Description = "Coleta comida (frutas, carne) automaticamente",
    Default     = false,
})

Tabs.Farm:AddToggle("AutoStone", {
    Title       = "Auto Farm Pedra/MinÃ©rio",
    Description = "Minera rochas e pedras dentro do raio",
    Default     = false,
})

Tabs.Farm:AddToggle("AutoLoot", {
    Title       = "Auto Loot (Itens Raros)",
    Description = "Pega automaticamente qualquer item no chÃ£o",
    Default     = false,
})

Tabs.Farm:AddToggle("AutoCraft", {
    Title       = "Auto Craft (Receitas Salvas)",
    Description = "Crafta itens automaticamente usando remotes",
    Default     = false,
})

Tabs.Farm:AddSlider("FarmRadius", {
    Title       = "Raio de Coleta",
    Description = "DistÃ¢ncia mÃ¡xima para detectar recursos",
    Default     = 60,
    Min         = 10,
    Max         = 500,
    Rounding    = 0,
})

Tabs.Farm:AddSection("Farm Modes")

Tabs.Farm:AddButton({
    Title       = "Collect All Now",
    Description = "Coleta TUDO ao redor instantaneamente (one-shot)",
    Callback    = function()
        if not root then Notify("Farm", "Personagem nÃ£o encontrado!") return end
        local count = 0
        local keywords = {"Tree","Log","Bush","Rock","Stone","Ore","Food","Fruit","Berry","Item","Loot","Drop","Plant","Herb"}
        for _, obj in ipairs(Workspace:GetDescendants()) do
            for _, kw in ipairs(keywords) do
                if obj.Name:find(kw) and DistTo(obj) <= 500 then
                    local pos = obj:IsA("BasePart") and obj.Position
                              or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
                    if pos then
                        root.CFrame = CFrame.new(pos + Vector3.new(0, 3, 0))
                        task.wait(0.05)
                        FireRemote("Harvest", obj)
                        FireRemote("Collect", obj)
                        FireRemote("PickUp",  obj)
                        count += 1
                    end
                    break
                end
            end
        end
        Notify("Farm", "Coletados: " .. count .. " recursos!")
    end
})

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘   âš”ï¸  ABA 3 â€” COMBAT & ESP           â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tabs.Combat:AddSection("Mob Killer")

Tabs.Combat:AddToggle("KillAura", {
    Title       = "Kill Aura (Mobs & Inimigos)",
    Description = "Ataca automaticamente todos os mobs dentro do raio",
    Default     = false,
})

Tabs.Combat:AddSlider("KillAuraRange", {
    Title       = "Kill Aura Range",
    Description = "Raio de ataque do Kill Aura",
    Default     = 25,
    Min         = 5,
    Max         = 150,
    Rounding    = 0,
})

Tabs.Combat:AddToggle("AutoTarget", {
    Title       = "Auto Target (Menor HP)",
    Description = "Foca automaticamente no mob com menos HP",
    Default     = false,
})

Tabs.Combat:AddToggle("AutoDodge", {
    Title       = "Auto Dodge / Anti Knockback",
    Description = "Tenta esquivar de ataques via input ou remote",
    Default     = false,
})

Tabs.Combat:AddSection("Visuals â€” ESP")

Tabs.Combat:AddToggle("MobESP", {
    Title       = "ESP: Monstros / Mobs",
    Description = "Destaca todos os mobs com vermelho",
    Default     = false,
})

Tabs.Combat:AddToggle("ItemESP", {
    Title       = "ESP: Itens Raros / MÃ­ticos",
    Description = "Destaca itens raros com dourado",
    Default     = false,
})

Tabs.Combat:AddToggle("ResourceESP", {
    Title       = "ESP: Recursos (Madeira, Pedra)",
    Description = "Destaca recursos coletÃ¡veis com verde",
    Default     = false,
})

Tabs.Combat:AddColorpicker("ESPMobColor", {
    Title   = "Cor ESP Mobs",
    Default = Color3.fromRGB(255, 60, 60),
})

Tabs.Combat:AddColorpicker("ESPItemColor", {
    Title   = "Cor ESP Itens",
    Default = Color3.fromRGB(255, 215, 0),
})

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘   ğŸš€  ABA 4 â€” MOVEMENT               â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tabs.Movement:AddSection("Speed & Jump")

Tabs.Movement:AddSlider("WalkSpeed", {
    Title       = "WalkSpeed",
    Description = "Velocidade de movimento do personagem",
    Default     = 16,
    Min         = 0,
    Max         = 350,
    Rounding    = 0,
    Callback    = function(v)
        if hum then hum.WalkSpeed = v end
    end,
})

Tabs.Movement:AddSlider("JumpPower", {
    Title       = "JumpPower",
    Description = "Altura do pulo",
    Default     = 50,
    Min         = 0,
    Max         = 400,
    Rounding    = 0,
    Callback    = function(v)
        if hum then
            hum.UseJumpPower = true
            hum.JumpPower = v
        end
    end,
})

Tabs.Movement:AddToggle("InfiniteJump", {
    Title       = "Infinite Jump",
    Description = "Pula infinitamente no ar",
    Default     = false,
})

Tabs.Movement:AddSection("Flight System")

Tabs.Movement:AddToggle("Fly", {
    Title       = "Flight Mode",
    Description = "Voa livremente. WASD + E (subir) / Q (descer)",
    Default     = false,
})

Tabs.Movement:AddSlider("FlySpeed", {
    Title       = "Fly Speed",
    Description = "Velocidade do voo",
    Default     = 80,
    Min         = 10,
    Max         = 500,
    Rounding    = 0,
})

Options.Fly:OnChanged(function()
    if Options.Fly.Value then
        EnableFly(Options.FlySpeed.Value)
    else
        DisableFly()
    end
end)

Tabs.Movement:AddSection("Clip & Phase")

Tabs.Movement:AddToggle("Noclip", {
    Title       = "Noclip",
    Description = "Atravessa paredes e obstÃ¡culos",
    Default     = false,
})

Tabs.Movement:AddToggle("AntiVoid", {
    Title       = "Anti Void",
    Description = "Teleporta de volta se cair no void",
    Default     = false,
})

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘   ğŸ“  ABA 5 â€” TELEPORTS              â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tabs.World:AddSection("Fast Travel")

-- Coordenadas genÃ©ricas â€” ajuste conforme o mapa real do jogo
local Locations = {
    ["ğŸ• Safe Camp"]              = CFrame.new(100,   20,  100),
    ["ğŸŒ² Deep Forest (Rare Loot)"] = CFrame.new(-1500, 10,  500),
    ["ğŸš Old Ruins"]               = CFrame.new(2000,  50, -2000),
    ["ğŸ† Leaderboard Statue"]      = CFrame.new(0,      5,   0),
    ["ğŸŒŠ River / Water Source"]    = CFrame.new(-800,   8,  300),
    ["â›° Mountain Peak"]           = CFrame.new(500,  200, -800),
    ["ğŸŒ™ Night Safe Spot (Sky)"]   = CFrame.new(0,    500,   0),
}

local locationNames = {}
for name in pairs(Locations) do table.insert(locationNames, name) end
table.sort(locationNames)

local WorldDropdown = Tabs.World:AddDropdown("WorldTP", {
    Title       = "Selecionar Destino",
    Description = "Escolha o local e pressione Teleportar",
    Values      = locationNames,
    Multi       = false,
    Default     = 1,
})

Tabs.World:AddButton({
    Title       = "âš¡ Teleportar Agora",
    Description = "Vai atÃ© o destino selecionado acima",
    Callback    = function()
        local dest = Options.WorldTP and Options.WorldTP.Value
        if dest and Locations[dest] and root then
            root.CFrame = Locations[dest]
            Notify("Teleport", "Teleportado: " .. dest)
        end
    end
})

Tabs.World:AddSection("Player Teleport")

local function GetPlayerList()
    local list = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= lp then table.insert(list, p.Name) end
    end
    return #list > 0 and list or {"(Nenhum jogador)"}
end

local DropPlayer = Tabs.World:AddDropdown("TPToPlayer", {
    Title   = "Teleportar para Jogador",
    Values  = GetPlayerList(),
    Multi   = false,
    Default = 1,
})

Tabs.World:AddButton({
    Title    = "TP â†’ Jogador Selecionado",
    Callback = function()
        local name = Options.TPToPlayer and Options.TPToPlayer.Value
        if not name or name == "(Nenhum jogador)" then
            Notify("Teleport", "Selecione um jogador!") return
        end
        local target = Players:FindFirstChild(name)
        local tRoot  = target and target.Character and target.Character:FindFirstChild("HumanoidRootPart")
        if tRoot and root then
            root.CFrame = tRoot.CFrame + Vector3.new(0, 3, 4)
            Notify("Teleport", "Teleportado para " .. name)
        else
            Notify("Teleport", "Jogador/personagem nÃ£o encontrado!")
        end
    end
})

Tabs.World:AddButton({
    Title    = "ğŸ”„ Atualizar Lista de Jogadores",
    Callback = function()
        DropPlayer:SetValues(GetPlayerList())
        Notify("Teleport", "Lista atualizada!")
    end
})

Tabs.World:AddSection("Quick Return")

Tabs.World:AddButton({
    Title       = "TP â†’ Spawn",
    Description = "Volta ao ponto de spawn do mapa",
    Callback    = function()
        local spawn = Workspace:FindFirstChildWhichIsA("SpawnLocation", true)
        if spawn and root then
            root.CFrame = spawn.CFrame + Vector3.new(0, 5, 0)
            Notify("Teleport", "Voltou ao Spawn!")
        else
            if root then root.CFrame = CFrame.new(0, 5, 0) end
            Notify("Teleport", "Spawn nÃ£o encontrado â€” movido para origem.")
        end
    end
})

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘   ğŸ“¦  ABA 6 â€” EXPLOITS / MISC        â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tabs.Misc:AddSection("Experimental")

Tabs.Misc:AddButton({
    Title       = "Dupe Held Item (Glitch)",
    Description = "Tenta duplicar o item na mÃ£o via reset de frame",
    Callback    = function()
        Window:Dialog({
            Title   = "âš ï¸ AtenÃ§Ã£o â€” Dupe",
            Content = "O dupe exige que vocÃª drope o item e resete no frame exato.\nEsse mÃ©todo Ã© experimental e pode nÃ£o funcionar em todas as versÃµes. Continuar?",
            Buttons = {
                {
                    Title    = "âœ… Tentar",
                    Callback = function()
                        -- MÃ©todo: drop o item + respawn instantÃ¢neo
                        FireRemote("DropItem")
                        FireRemote("Drop")
                        task.wait(0.05)
                        lp:LoadCharacter()
                        Notify("Exploits", "Dupe tentado! Verifique seu inventÃ¡rio.")
                    end
                },
                { Title = "âŒ Cancelar", Callback = function() end }
            }
        })
    end
})

Tabs.Misc:AddToggle("AutoBuild", {
    Title       = "Auto Build / Infinite Storage",
    Description = "Coloca estruturas automaticamente usando remotes",
    Default     = false,
})

Tabs.Misc:AddToggle("Fullbright", {
    Title       = "Fullbright / No Fog",
    Description = "IluminaÃ§Ã£o mÃ¡xima e sem nÃ©voa (Ãºtil Ã  noite)",
    Default     = false,
})

Tabs.Misc:AddToggle("NoTrees", {
    Title       = "No Tree Collision",
    Description = "Remove colisÃ£o de Ã¡rvores (cliente)",
    Default     = false,
})

Tabs.Misc:AddButton({
    Title       = "Server Hop",
    Description = "Troca de servidor instantaneamente",
    Callback    = function()
        Notify("Misc", "Trocando de servidor...")
        task.wait(1)
        SafeCall(function() TeleportService:Teleport(game.PlaceId, lp) end)
    end
})

Tabs.Misc:AddButton({
    Title       = "Rejoin (Reconectar)",
    Description = "Sai e entra novamente no mesmo servidor",
    Callback    = function()
        Notify("Misc", "Reconectando...")
        task.wait(0.5)
        SafeCall(function()
            TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, lp)
        end)
    end
})

Tabs.Misc:AddSection("Anti-AFK")
Tabs.Misc:AddButton({
    Title       = "Ativar Anti-AFK",
    Description = "Previne kick por inatividade (ativar uma vez)",
    Callback    = function()
        local vu = game:GetService("VirtualUser")
        lp.Idled:Connect(function()
            vu:Button2Down(Vector2.new(0,0), Camera.CFrame)
            task.wait(1)
            vu:Button2Up(Vector2.new(0,0), Camera.CFrame)
        end)
        Notify("Misc", "Anti-AFK ativado! âœ… NÃ£o serÃ¡ mais kickado.")
    end
})

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘        RUNTIME LOOP (Heartbeat)      â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- Tickers por feature
local tickers = {
    survival = 0,
    farmWood  = 0,
    farmFood  = 0,
    farmStone = 0,
    farmLoot  = 0,
    craft     = 0,
    killAura  = 0,
    esp       = 0,
    build     = 0,
    daySkip   = 0,
    campfire  = 0,
}

-- Keywords por tipo de recurso
local woodKeywords     = {"Tree","Log","Wood","Branch","Stump","Trunk"}
local foodKeywords     = {"Food","Fruit","Berry","Mushroom","Apple","Meat","Fish","Bread","Carrot","Plant","Herb"}
local stoneKeywords    = {"Rock","Stone","Ore","Mineral","Boulder","Crystal"}
local lootKeywords     = {"Loot","Drop","Item","Chest","Rare","Mythic","Legendary","Pickup"}
local mobKeywords      = {"Mob","Monster","Enemy","Zombie","Skeleton","Wolf","Bear","Slime","Boss","Creature","NPC"}
local campKeywords     = {"Campfire","Fire","Fireplace","Torch","Bonfire"}

RunService.Heartbeat:Connect(function(dt)
    local ok = root and hum and char

    -- â”€â”€ Speed lock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if ok and Options.WalkSpeed and hum.WalkSpeed ~= Options.WalkSpeed.Value then
        SafeCall(function() hum.WalkSpeed = Options.WalkSpeed.Value end)
    end
    if ok and Options.JumpPower and Options.JumpPower.Value ~= 50 then
        SafeCall(function()
            hum.UseJumpPower = true
            hum.JumpPower = Options.JumpPower.Value
        end)
    end

    -- â”€â”€ God Mode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if ok and Options.GodMode and Options.GodMode.Value then
        SafeCall(function()
            hum.MaxHealth = math.huge
            if hum.Health < 1e10 then hum.Health = math.huge end
        end)
    end

    -- â”€â”€ Auto-Heal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if ok and Options.AutoHeal and Options.AutoHeal.Value then
        SafeCall(function()
            if hum.Health < hum.MaxHealth then
                hum.Health = hum.MaxHealth
                FireRemote("Heal")
                FireRemote("UsePotion")
            end
        end)
    end

    -- â”€â”€ Noclip â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if ok and Options.Noclip and Options.Noclip.Value then
        SafeCall(function()
            for _, p in ipairs(char:GetDescendants()) do
                if p:IsA("BasePart") then p.CanCollide = false end
            end
        end)
    end

    -- â”€â”€ Anti Void â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if ok and Options.AntiVoid and Options.AntiVoid.Value then
        if root.Position.Y < -80 then
            root.CFrame = CFrame.new(root.Position.X, 50, root.Position.Z)
        end
    end

    -- â”€â”€ No Tree Collision â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if Options.NoTrees and Options.NoTrees.Value then
        for _, obj in ipairs(Workspace:GetDescendants()) do
            if obj:IsA("BasePart") then
                for _, kw in ipairs(woodKeywords) do
                    if obj.Name:find(kw) then obj.CanCollide = false break end
                end
            end
        end
    end

    -- â”€â”€ Fly movement â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if Options.Fly and Options.Fly.Value and FlyBV and FlyBG and root then
        local vel = Vector3.zero
        local spd = Options.FlySpeed and Options.FlySpeed.Value or 80
        local cf  = Camera.CFrame
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then vel = vel + cf.LookVector  end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then vel = vel - cf.LookVector  end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then vel = vel - cf.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then vel = vel + cf.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.E) then vel = vel + Vector3.new(0,1,0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.Q) then vel = vel - Vector3.new(0,1,0) end
        FlyBV.Velocity = vel * spd
        FlyBG.CFrame   = cf
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- SURVIVAL LOOP (0.1s)
    tickers.survival += dt
    if tickers.survival >= 0.1 then
        tickers.survival = 0

        -- Stamina Infinita
        if ok and Options.InfStamina and Options.InfStamina.Value then
            SafeCall(function()
                -- Tentativa 1: atributo direto
                local stamina = char:FindFirstChild("Stamina", true)
                    or lp:FindFirstChild("Stamina", true)
                if stamina and (stamina:IsA("NumberValue") or stamina:IsA("IntValue")) then
                    stamina.Value = 100
                end
                -- Tentativa 2: remote
                FireRemote("RefillStamina")
                FireRemote("SetStamina", 100)
            end)
        end

        -- Auto-Eat / No Hunger
        if ok and Options.NoHunger and Options.NoHunger.Value then
            SafeCall(function()
                local hunger = char:FindFirstChild("Hunger", true)
                    or lp:FindFirstChild("Hunger", true)
                    or char:FindFirstChild("Food", true)
                if hunger then hunger.Value = 100 end
                FireRemote("Eat")
                FireRemote("AutoEat")
                FireRemote("SetHunger", 100)
            end)
        end

        -- AFK Safe Spot (Night Loop) â€” sobe ao cÃ©u no escuro
        if ok and Options.AutoNight and Options.AutoNight.Value then
            SafeCall(function()
                local timeOfDay = Lighting.ClockTime
                if timeOfDay >= 18 or timeOfDay < 6 then
                    -- Noite: vai para o cÃ©u
                    if root.Position.Y < 200 then
                        root.CFrame = CFrame.new(root.Position.X, 400, root.Position.Z)
                    end
                else
                    -- Dia: volta ao chÃ£o se necessÃ¡rio
                    if root.Position.Y > 300 then
                        root.CFrame = CFrame.new(root.Position.X, 5, root.Position.Z)
                    end
                end
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- FARM LOOP (0.4s)
    tickers.farmWood += dt
    if tickers.farmWood >= 0.4 then
        tickers.farmWood = 0
        local radius = Options.FarmRadius and Options.FarmRadius.Value or 60

        -- Auto Wood
        if ok and Options.AutoWood and Options.AutoWood.Value then
            SafeCall(function()
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    for _, kw in ipairs(woodKeywords) do
                        if obj.Name:find(kw) and DistTo(obj) <= radius then
                            local p = obj:IsA("BasePart") and obj.Position
                                   or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
                            if p then
                                root.CFrame = CFrame.new(p + Vector3.new(0,2,0))
                                FireRemote("Harvest",  obj)
                                FireRemote("ChopTree", obj)
                                FireRemote("Collect",  obj)
                            end
                            break
                        end
                    end
                end
            end)
        end

        -- Auto Food
        if ok and Options.AutoFood and Options.AutoFood.Value then
            SafeCall(function()
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    for _, kw in ipairs(foodKeywords) do
                        if obj.Name:find(kw) and DistTo(obj) <= radius then
                            local p = obj:IsA("BasePart") and obj.Position
                                   or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
                            if p then
                                root.CFrame = CFrame.new(p + Vector3.new(0,2,0))
                                FireRemote("PickUp",  obj)
                                FireRemote("Collect", obj)
                                FireRemote("Eat",     obj)
                            end
                            break
                        end
                    end
                end
            end)
        end

        -- Auto Stone
        if ok and Options.AutoStone and Options.AutoStone.Value then
            SafeCall(function()
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    for _, kw in ipairs(stoneKeywords) do
                        if obj.Name:find(kw) and DistTo(obj) <= radius then
                            local p = obj:IsA("BasePart") and obj.Position
                                   or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
                            if p then
                                root.CFrame = CFrame.new(p + Vector3.new(0,2,0))
                                FireRemote("Mine",    obj)
                                FireRemote("Harvest", obj)
                                FireRemote("Collect", obj)
                            end
                            break
                        end
                    end
                end
            end)
        end

        -- Auto Loot
        if ok and Options.AutoLoot and Options.AutoLoot.Value then
            SafeCall(function()
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    for _, kw in ipairs(lootKeywords) do
                        if obj.Name:find(kw) and DistTo(obj) <= radius then
                            local p = obj:IsA("BasePart") and obj.Position
                                   or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
                            if p then
                                root.CFrame = CFrame.new(p + Vector3.new(0,2,0))
                                FireRemote("PickUp",  obj)
                                FireRemote("Collect", obj)
                            end
                            break
                        end
                    end
                end
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- AUTO CRAFT (1s)
    tickers.craft += dt
    if tickers.craft >= 1 then
        tickers.craft = 0
        if ok and Options.AutoCraft and Options.AutoCraft.Value then
            SafeCall(function()
                FireRemote("AutoCraft")
                FireRemote("CraftAll")
                FireRemote("Craft")
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- KILL AURA (0.2s)
    tickers.killAura += dt
    if tickers.killAura >= 0.2 then
        tickers.killAura = 0
        if ok and Options.KillAura and Options.KillAura.Value then
            local range = Options.KillAuraRange and Options.KillAuraRange.Value or 25
            SafeCall(function()
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    if obj:IsA("Model") and obj ~= char then
                        local mobHum = obj:FindFirstChildOfClass("Humanoid")
                        if mobHum and mobHum.Health > 0 then
                            local mobRoot = obj:FindFirstChild("HumanoidRootPart")
                                or obj:FindFirstChildOfClass("BasePart")
                            if mobRoot then
                                local dist = (root.Position - mobRoot.Position).Magnitude
                                if dist <= range then
                                    FireRemote("Attack", obj)
                                    FireRemote("Hit",    obj)
                                    FireRemote("Damage", obj)
                                    -- Teleporta ao mob e clica
                                    root.CFrame = CFrame.new(mobRoot.Position + Vector3.new(0,2,0))
                                end
                            end
                        end
                    end
                end
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- ESP UPDATE (0.5s)
    tickers.esp += dt
    if tickers.esp >= 0.5 then
        tickers.esp = 0

        -- Mob ESP
        if Options.MobESP and Options.MobESP.Value then
            local mobColor = Options.ESPMobColor and Options.ESPMobColor.Value or Color3.fromRGB(255,60,60)
            for _, obj in ipairs(Workspace:GetDescendants()) do
                if obj:IsA("Model") and obj ~= char then
                    local mobHum = obj:FindFirstChildOfClass("Humanoid")
                    if mobHum then
                        AddHighlight(obj, mobColor, Color3.new(1,1,1))
                    end
                end
            end
        else
            -- Limpar apenas mob highlights (nÃ£o item)
            for obj, h in pairs(ESPHighlights) do
                if obj:IsA("Model") then
                    local mobHum = obj:FindFirstChildOfClass("Humanoid")
                    if mobHum then RemoveHighlight(obj) end
                end
            end
        end

        -- Item ESP
        if Options.ItemESP and Options.ItemESP.Value then
            local itemColor = Options.ESPItemColor and Options.ESPItemColor.Value or Color3.fromRGB(255,215,0)
            for _, obj in ipairs(Workspace:GetDescendants()) do
                for _, kw in ipairs(lootKeywords) do
                    if obj.Name:find(kw) then
                        AddHighlight(obj, itemColor, Color3.fromRGB(255,255,0))
                        break
                    end
                end
            end
        end

        -- Resource ESP
        if Options.ResourceESP and Options.ResourceESP.Value then
            local allRes = {}
            for _, t in ipairs({woodKeywords, stoneKeywords, foodKeywords}) do
                for _, kw in ipairs(t) do table.insert(allRes, kw) end
            end
            for _, obj in ipairs(Workspace:GetDescendants()) do
                for _, kw in ipairs(allRes) do
                    if obj.Name:find(kw) then
                        AddHighlight(obj, Color3.fromRGB(60,220,60), Color3.new(1,1,1))
                        break
                    end
                end
            end
        else
            -- Limpar resource ESP se desativado
            if not Options.MobESP.Value and not Options.ItemESP.Value then
                ClearAllESP()
            end
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- AUTO BUILD (2s)
    tickers.build += dt
    if tickers.build >= 2 then
        tickers.build = 0
        if ok and Options.AutoBuild and Options.AutoBuild.Value then
            SafeCall(function()
                FireRemote("AutoBuild")
                FireRemote("Build")
                FireRemote("PlaceStructure")
                -- Click GUI build buttons
                local gui = lp:FindFirstChild("PlayerGui")
                if gui then
                    for _, btn in ipairs(gui:GetDescendants()) do
                        if (btn:IsA("TextButton") or btn:IsA("ImageButton"))
                          and btn.Name:lower():find("build") then
                            SafeCall(function() btn.MouseButton1Click:Fire() end)
                        end
                    end
                end
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- DAY SKIP (3s)
    tickers.daySkip += dt
    if tickers.daySkip >= 3 then
        tickers.daySkip = 0
        if ok and Options.AutoDaySkip and Options.AutoDaySkip.Value then
            SafeCall(function()
                FireRemote("SkipDay")
                FireRemote("NextDay")
                FireRemote("SkipNight")
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- AUTO CAMPFIRE (1s)
    tickers.campfire += dt
    if tickers.campfire >= 1 then
        tickers.campfire = 0
        if ok and Options.AutoCampfire and Options.AutoCampfire.Value then
            SafeCall(function()
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    for _, kw in ipairs(campKeywords) do
                        if obj.Name:find(kw) then
                            local p = obj:IsA("BasePart") and obj.Position
                                   or (obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position)
                            if p and (root.Position - p).Magnitude <= 150 then
                                FireRemote("LightFire",    obj)
                                FireRemote("UseCampfire",  obj)
                                FireRemote("Interact",     obj)
                            end
                            break
                        end
                    end
                end
            end)
        end
    end

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- FULLBRIGHT (live)
    if Options.Fullbright and Options.Fullbright.Value then
        SafeCall(function()
            Lighting.Brightness    = 10
            Lighting.ClockTime     = 14
            Lighting.FogEnd        = 100000
            Lighting.FogStart      = 99999
            Lighting.GlobalShadows = false
            Lighting.Ambient       = Color3.fromRGB(178,178,178)
        end)
    end
end)

-- â”€â”€ Infinite Jump â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
UserInputService.JumpRequest:Connect(function()
    if Options.InfiniteJump and Options.InfiniteJump.Value and hum then
        hum:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- â”€â”€ Auto Dodge (V key) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if Options.AutoDodge and Options.AutoDodge.Value then
        FireRemote("Dodge")
        FireRemote("Roll")
        FireRemote("Evade")
    end
end)

-- â”€â”€ Re-enable on respawn â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
lp.CharacterAdded:Connect(function(newChar)
    task.wait(1.5)
    RefreshChar()
    if Options.WalkSpeed and hum then hum.WalkSpeed = Options.WalkSpeed.Value end
    if Options.JumpPower  and hum then
        hum.UseJumpPower = true
        hum.JumpPower    = Options.JumpPower.Value
    end
    if Options.Fly and Options.Fly.Value then
        task.wait(0.5)
        EnableFly()
    end
    if Options.GodMode and Options.GodMode.Value and hum then
        hum.MaxHealth = math.huge
        hum.Health    = math.huge
    end
end)

-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘       âš™ï¸  SETTINGS TAB              â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)
SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})
InterfaceManager:SetFolder("99NightsEternal")
SaveManager:SetFolder("99NightsEternal/configs")
InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)
SaveManager:LoadAutoloadConfig()

Fluent:Notify({
    Title   = "âš”ï¸ 99 Nights Hub v4.0",
    Content = "Script carregado! RCtrl para minimizar.",
    Duration = 7
})
